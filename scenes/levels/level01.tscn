[gd_scene load_steps=13 format=2]

[ext_resource path="res://scenes/world/ground.tscn" type="PackedScene" id=1]
[ext_resource path="res://scenes/world/props/floating_crystal.tscn" type="PackedScene" id=2]
[ext_resource path="res://scripts/LevelHelper.cs" type="Script" id=3]
[ext_resource path="res://scenes/world/spawnpoint.tscn" type="PackedScene" id=4]
[ext_resource path="res://scenes/npcs/human.tscn" type="PackedScene" id=5]
[ext_resource path="res://scenes/world/test_cube_l.tscn" type="PackedScene" id=6]
[ext_resource path="res://scenes/world/floor.tscn" type="PackedScene" id=7]
[ext_resource path="res://audio/MX_Gameplay_LP1.wav" type="AudioStream" id=8]
[ext_resource path="res://scenes/world/wall.tscn" type="PackedScene" id=9]

[sub_resource type="ProceduralSky" id=1]
sky_top_color = Color( 0, 0, 0, 1 )
sky_horizon_color = Color( 0, 0, 0, 1 )
ground_bottom_color = Color( 0, 0, 0, 1 )
ground_horizon_color = Color( 0, 0, 0, 1 )

[sub_resource type="Environment" id=2]
background_mode = 2
background_sky = SubResource( 1 )
ambient_light_color = Color( 0.0588235, 0.529412, 0.498039, 1 )
ambient_light_energy = 0.2
ambient_light_sky_contribution = 0.5
fog_enabled = true
fog_color = Color( 0.345098, 0.878431, 0.803922, 1 )
fog_sun_color = Color( 1, 1, 1, 1 )
fog_depth_end = 75.0
fog_depth_curve = 0.615572
tonemap_mode = 3
tonemap_white = 5.0

[sub_resource type="NavigationMesh" id=3]
vertices = PoolVector3Array( -29.5, 1.5, -20.75, -28.5, 1.5, -21, -28.5, 1.5, -28.25, -29.5, 1.5, -29.5, -28.5, 1.5, -28.25, -21, 1.5, -28.5, -20.75, 1.5, -29.5, -29.5, 1.5, -29.5, 29.5, 1.5, -20.5, 28.75, 1.5, -20.5, 28.5, 1.5, -19.25, 29.5, 1.5, -10.25, -19.25, 1.5, 28.5, -20.5, 1.5, 28.75, -20.5, 1.5, 29.5, -10.25, 1.5, 29.5, 20.75, 1.5, 29.5, 20.75, 1.5, 28.75, 19.5, 1.5, 28.5, 10.25, 1.5, 29.5, 28.5, 1.5, 19.5, 28.75, 1.5, 20.75, 29.5, 1.5, 20.75, 29.5, 1.5, 10.25, 19.5, 1.5, -28.25, 21.25, 1.5, -28.5, 21, 1.5, -29.5, 10.5, 1.5, -29.5, -20.75, 1.5, -29.5, -21, 1.5, -28.5, -19.25, 1.5, -28.25, -10.5, 1.5, -29.5, -28.25, 1.5, -19.25, -28.5, 1.5, -21, -29.5, 1.5, -20.75, -29.5, 1.5, -10.5, -29.5, 1.5, 21, -28.5, 1.5, 21.25, -28.25, 1.5, 19.5, -29.5, 1.5, 10.5, -1, 1.5, -20.75, 0.75, 1.5, -21, 0, 1.5, -29.5, -10.5, 1.5, -29.5, 0, 1.5, 29.5, -0.75, 1.5, 21, -1, 1.5, 19.25, -19.5, 1.5, 19.5, -19.25, 1.5, 28.5, -10.25, 1.5, 29.5, -20.75, 1.5, 1, -21, 1.5, -0.75, -29.5, 1.5, 0, -29.5, 1.5, 10.5, 1, 1.5, 20.75, -0.75, 1.5, 21, 0, 1.5, 29.5, 10.25, 1.5, 29.5, -19, 1.5, 0.75, -20.75, 1.5, 1, -29.5, 1.5, 10.5, -19.5, 1.5, 19.5, -1, 1.5, 19.25, 0.75, 1.5, 19, 10.25, 1.5, 29.5, 19.5, 1.5, 28.5, 19.5, 1.5, 19.75, 0.75, 1.5, 19, 1, 1.5, 20.75, -10.5, 1.5, -29.5, -19.25, 1.5, -28.25, -19.5, 1.5, -19.25, -0.75, 1.5, -19, -1, 1.5, -20.75, 19.5, 1.5, 19.75, 19.25, 1.5, 1, 19, 1.5, -0.75, -29.5, 1.5, 10.5, -28.25, 1.5, 19.5, -19.5, 1.5, 19.5, 19, 1.5, -0.75, -0.75, 1.5, -19, -19.5, 1.5, -19.25, -19, 1.5, 0.75, 0.75, 1.5, 19, 19.5, 1.5, 19.75, 29.5, 1.5, 0, 21, 1.5, 0.75, 19.25, 1.5, 1, 19.5, 1.5, 19.75, 28.5, 1.5, 19.5, 29.5, 1.5, 10.25, 29.5, 1.5, -10.25, 28.5, 1.5, -19.25, 19.5, 1.5, -19.5, 0, 1.5, -29.5, 0.75, 1.5, -21, 1, 1.5, -19.25, 19.5, 1.5, -19.5, 19.5, 1.5, -28.25, 10.5, 1.5, -29.5, -29.5, 1.5, 0, -21, 1.5, -0.75, -19.25, 1.5, -1, -19.5, 1.5, -19.25, -28.25, 1.5, -19.25, -29.5, 1.5, -10.5, -19.5, 1.5, -19.25, -19.25, 1.5, -1, -19, 1.5, 0.75, 19, 1.5, -0.75, 20.75, 1.5, -1, 29.5, 1.5, -10.25, 19.5, 1.5, -19.5, 1, 1.5, -19.25, -0.75, 1.5, -19, 29.5, 1.5, 0, 29.5, 1.5, -10.25, 20.75, 1.5, -1, 21, 1.5, 0.75, 28.75, 1.5, -28.25, 28.75, 1.5, -20.5, 29.5, 1.5, -20.5, 29.5, 1.5, -29.5, 28.75, 1.5, -28.25, 29.5, 1.5, -29.5, 21, 1.5, -29.5, 21.25, 1.5, -28.5, -27.5, 6.5, -27.5, -27.5, 6.5, -20.25, -20.25, 6.5, -20.25, -20.25, 6.5, -27.5, 20.5, 6.5, -27.5, 20.5, 6.5, -20.25, 27.5, 6.5, -20.25, 27.5, 6.5, -27.5, -27.25, 1.5, -27.25, -27.25, 1.5, -20.5, -20.5, 1.5, -20.5, -20.5, 1.5, -27.25, 20.75, 1.5, -27.25, 20.75, 1.5, -20.5, 27.5, 1.5, -20.5, 27.5, 1.5, -27.25, -27.5, 6.5, 20.5, -27.5, 6.5, 27.5, -20.25, 6.5, 27.5, -20.25, 6.5, 20.5, 20.5, 6.5, 20.5, 20.5, 6.5, 27.5, 27.5, 6.5, 27.5, 27.5, 6.5, 20.5, -27.25, 1.5, 20.75, -27.25, 1.5, 27.5, -20.5, 1.5, 27.5, -20.5, 1.5, 20.75, 20.75, 1.5, 20.75, 20.75, 1.5, 27.5, 27.5, 1.5, 27.5, 27.5, 1.5, 20.75, 29.5, 1.5, 20.75, 28.75, 1.5, 20.75, 28.75, 1.5, 28.25, 29.5, 1.5, 29.5, 28.25, 1.5, 28.75, 20.75, 1.5, 28.75, 20.75, 1.5, 29.5, 29.5, 1.5, 29.5, 29.5, 1.5, 29.5, 28.75, 1.5, 28.25, 28.25, 1.5, 28.75, -20.5, 1.5, 29.5, -20.5, 1.5, 28.75, -28.25, 1.5, 28.75, -29.5, 1.5, 29.5, -28.25, 1.5, 28.75, -28.5, 1.5, 21.25, -29.5, 1.5, 21, -29.5, 1.5, 29.5 )
polygons = [ PoolIntArray( 1, 0, 2 ), PoolIntArray( 2, 0, 3 ), PoolIntArray( 5, 4, 6 ), PoolIntArray( 6, 4, 7 ), PoolIntArray( 9, 8, 10 ), PoolIntArray( 10, 8, 11 ), PoolIntArray( 13, 12, 14 ), PoolIntArray( 14, 12, 15 ), PoolIntArray( 17, 16, 18 ), PoolIntArray( 18, 16, 19 ), PoolIntArray( 21, 20, 22 ), PoolIntArray( 22, 20, 23 ), PoolIntArray( 25, 24, 26 ), PoolIntArray( 26, 24, 27 ), PoolIntArray( 29, 28, 30 ), PoolIntArray( 30, 28, 31 ), PoolIntArray( 33, 32, 34 ), PoolIntArray( 34, 32, 35 ), PoolIntArray( 37, 36, 38 ), PoolIntArray( 38, 36, 39 ), PoolIntArray( 41, 40, 42 ), PoolIntArray( 42, 40, 43 ), PoolIntArray( 45, 44, 46 ), PoolIntArray( 46, 44, 49 ), PoolIntArray( 46, 49, 48 ), PoolIntArray( 46, 48, 47 ), PoolIntArray( 51, 50, 52 ), PoolIntArray( 52, 50, 53 ), PoolIntArray( 55, 54, 56 ), PoolIntArray( 56, 54, 57 ), PoolIntArray( 59, 58, 60 ), PoolIntArray( 60, 58, 61 ), PoolIntArray( 61, 58, 62 ), PoolIntArray( 62, 58, 63 ), PoolIntArray( 68, 67, 64 ), PoolIntArray( 64, 67, 65 ), PoolIntArray( 65, 67, 66 ), PoolIntArray( 73, 72, 69 ), PoolIntArray( 69, 72, 70 ), PoolIntArray( 70, 72, 71 ), PoolIntArray( 76, 75, 74 ), PoolIntArray( 77, 79, 78 ), PoolIntArray( 82, 81, 83 ), PoolIntArray( 83, 81, 80 ), PoolIntArray( 83, 80, 84 ), PoolIntArray( 84, 80, 85 ), PoolIntArray( 87, 86, 88 ), PoolIntArray( 88, 86, 91 ), PoolIntArray( 88, 91, 90 ), PoolIntArray( 88, 90, 89 ), PoolIntArray( 94, 93, 92 ), PoolIntArray( 96, 95, 97 ), PoolIntArray( 97, 95, 100 ), PoolIntArray( 97, 100, 99 ), PoolIntArray( 97, 99, 98 ), PoolIntArray( 102, 101, 103 ), PoolIntArray( 103, 101, 106 ), PoolIntArray( 103, 106, 105 ), PoolIntArray( 103, 105, 104 ), PoolIntArray( 109, 108, 107 ), PoolIntArray( 111, 110, 112 ), PoolIntArray( 112, 110, 113 ), PoolIntArray( 113, 110, 114 ), PoolIntArray( 114, 110, 115 ), PoolIntArray( 119, 118, 116 ), PoolIntArray( 116, 118, 117 ), PoolIntArray( 121, 120, 122 ), PoolIntArray( 122, 120, 123 ), PoolIntArray( 127, 126, 124 ), PoolIntArray( 124, 126, 125 ), PoolIntArray( 131, 130, 128 ), PoolIntArray( 128, 130, 129 ), PoolIntArray( 135, 134, 132 ), PoolIntArray( 132, 134, 133 ), PoolIntArray( 139, 138, 136 ), PoolIntArray( 136, 138, 137 ), PoolIntArray( 143, 142, 140 ), PoolIntArray( 140, 142, 141 ), PoolIntArray( 147, 146, 144 ), PoolIntArray( 144, 146, 145 ), PoolIntArray( 151, 150, 148 ), PoolIntArray( 148, 150, 149 ), PoolIntArray( 155, 154, 152 ), PoolIntArray( 152, 154, 153 ), PoolIntArray( 159, 158, 156 ), PoolIntArray( 156, 158, 157 ), PoolIntArray( 161, 160, 162 ), PoolIntArray( 162, 160, 163 ), PoolIntArray( 165, 164, 166 ), PoolIntArray( 166, 164, 167 ), PoolIntArray( 170, 169, 168 ), PoolIntArray( 172, 171, 173 ), PoolIntArray( 173, 171, 174 ), PoolIntArray( 176, 175, 177 ), PoolIntArray( 177, 175, 178 ) ]

[node name="Main" type="Spatial"]
script = ExtResource( 3 )
_enemiesToSpawn = 5
_enemySpawnTag = "human"
_humanScene = ExtResource( 5 )

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = SubResource( 2 )

[node name="DirectionalLight" type="DirectionalLight" parent="."]
transform = Transform( 0.841204, -0.482065, 0.244928, 0.0590389, 0.532145, 0.844593, -0.537486, -0.696014, 0.476103, 0, 10, 0 )
light_color = Color( 1, 0.635294, 0.576471, 1 )
shadow_enabled = true

[node name="World" type="Spatial" parent="."]
transform = Transform( 0.707107, 0, 0.707107, 0, 1, 0, -0.707107, 0, 0.707107, 0, 0, 0 )

[node name="NavigationMeshInstance" type="NavigationMeshInstance" parent="World"]
navmesh = SubResource( 3 )

[node name="Ground" parent="World/NavigationMeshInstance" instance=ExtResource( 1 )]

[node name="Test Cube Large" parent="World/NavigationMeshInstance" instance=ExtResource( 6 )]
transform = Transform( 4, 0, 0, 0, 4, 0, 0, 0, 4, -24, 2, -24 )

[node name="Test Cube Large2" parent="World/NavigationMeshInstance" instance=ExtResource( 6 )]
transform = Transform( 4, 0, 0, 0, 4, 0, 0, 0, 4, 24, 2, 24 )

[node name="Test Cube Large3" parent="World/NavigationMeshInstance" instance=ExtResource( 6 )]
transform = Transform( 4, 0, 0, 0, 4, 0, 0, 0, 4, -24, 2, 24 )

[node name="Test Cube Large4" parent="World/NavigationMeshInstance" instance=ExtResource( 6 )]
transform = Transform( 4, 0, 0, 0, 4, 0, 0, 0, 4, 24, 2, -24 )

[node name="floating_crystal1" parent="World/NavigationMeshInstance" instance=ExtResource( 2 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -20, 1.5, 0 )

[node name="floating_crystal2" parent="World/NavigationMeshInstance" instance=ExtResource( 2 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1.5, -20 )

[node name="floating_crystal3" parent="World/NavigationMeshInstance" instance=ExtResource( 2 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1.5, 20 )

[node name="floating_crystal4" parent="World/NavigationMeshInstance" instance=ExtResource( 2 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 20, 1.5, 0 )

[node name="Border" type="Spatial" parent="World/NavigationMeshInstance"]

[node name="Wall" parent="World/NavigationMeshInstance/Border" instance=ExtResource( 9 )]
transform = Transform( 30, 0, 0, 0, 10, 0, 0, 0, 1, 0, 10, -30 )

[node name="Wall2" parent="World/NavigationMeshInstance/Border" instance=ExtResource( 9 )]
transform = Transform( 30, 0, 0, 0, 10, 0, 0, 0, 1, 0, 10, 30 )

[node name="Wall3" parent="World/NavigationMeshInstance/Border" instance=ExtResource( 9 )]
transform = Transform( -1.31134e-06, 0, 1, 0, 10, 0, -30, 0, -4.37114e-08, -30, 10, 0 )

[node name="Wall4" parent="World/NavigationMeshInstance/Border" instance=ExtResource( 9 )]
transform = Transform( -1.31134e-06, 0, 1, 0, 10, 0, -30, 0, -4.37114e-08, 30, 10, 0 )

[node name="Tien\'s Test Junk" type="Spatial" parent="World"]

[node name="Floor Tile 01" parent="World/Tien\'s Test Junk" instance=ExtResource( 7 )]
transform = Transform( 0.707107, 0, 0.707107, 0, 1, 0, -0.707107, 0, 0.707107, 0, 1.1, 0 )

[node name="Floor Tile 02" parent="World/Tien\'s Test Junk" instance=ExtResource( 7 )]
transform = Transform( 0.707107, 0, 0.707107, 0, 1, 0, -0.707107, 0, 0.707107, -14.1421, 1.1, 14.1421 )

[node name="Floor Tile 03" parent="World/Tien\'s Test Junk" instance=ExtResource( 7 )]
transform = Transform( 0.707107, 0, 0.707107, 0, 1, 0, -0.707107, 0, 0.707107, -14.1421, 1.1, -14.1421 )

[node name="Floor Tile 04" parent="World/Tien\'s Test Junk" instance=ExtResource( 7 )]
transform = Transform( 0.707107, 0, 0.707107, 0, 1, 0, -0.707107, 0, 0.707107, -28.2843, 1.1, 0 )

[node name="Player Spawn" parent="World" instance=ExtResource( 4 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1, 0 )
_tags = PoolStringArray( "player" )

[node name="Enemy Spawns" type="Spatial" parent="World"]

[node name="Enemy Spawn" parent="World/Enemy Spawns" instance=ExtResource( 4 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 20, 1, 0 )
_tags = PoolStringArray( "human" )
_minXSpawnRange = 1.0
_maxXSpawnRange = 10.0
_minZSpawnRange = 1.0
_maxZSpawnRange = 10.0

[node name="Enemy Spawn2" parent="World/Enemy Spawns" instance=ExtResource( 4 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -20, 1, 0 )
_tags = PoolStringArray( "human" )
_minXSpawnRange = 1.0
_maxXSpawnRange = 10.0
_minZSpawnRange = 1.0
_maxZSpawnRange = 10.0

[node name="Music" type="AudioStreamPlayer" parent="."]
stream = ExtResource( 8 )
