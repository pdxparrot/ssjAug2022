[gd_scene load_steps=13 format=2]

[ext_resource path="res://scenes/world/ground.tscn" type="PackedScene" id=1]
[ext_resource path="res://scenes/world/props/floating_crystal.tscn" type="PackedScene" id=2]
[ext_resource path="res://scripts/LevelHelper.cs" type="Script" id=3]
[ext_resource path="res://scenes/world/spawnpoint.tscn" type="PackedScene" id=4]
[ext_resource path="res://scenes/npcs/human.tscn" type="PackedScene" id=5]
[ext_resource path="res://scenes/world/test_cube_l.tscn" type="PackedScene" id=6]
[ext_resource path="res://scenes/world/floor.tscn" type="PackedScene" id=7]
[ext_resource path="res://audio/MX_Gameplay_LP1.wav" type="AudioStream" id=8]
[ext_resource path="res://scenes/world/wall.tscn" type="PackedScene" id=9]

[sub_resource type="ProceduralSky" id=1]
sky_top_color = Color( 0, 0, 0, 1 )
sky_horizon_color = Color( 0, 0, 0, 1 )
ground_bottom_color = Color( 0, 0, 0, 1 )
ground_horizon_color = Color( 0, 0, 0, 1 )

[sub_resource type="Environment" id=2]
background_mode = 2
background_sky = SubResource( 1 )
ambient_light_color = Color( 0.0588235, 0.529412, 0.498039, 1 )
ambient_light_energy = 0.2
ambient_light_sky_contribution = 0.5
fog_enabled = true
fog_color = Color( 0.345098, 0.878431, 0.803922, 1 )
fog_sun_color = Color( 1, 1, 1, 1 )
fog_depth_end = 75.0
fog_depth_curve = 0.615572
tonemap_mode = 3
tonemap_white = 5.0

[sub_resource type="NavigationMesh" id=3]
vertices = PoolVector3Array( -29.5, 20.5, -29.25, -29.75, 20.5, -29.5, -30.5, 20.5, -29.5, -30.5, 20.5, -22.25, -29.5, 20.5, -22, -29.5, 20.5, -30.5, -29.75, 20.5, -29.5, -29.5, 20.5, -29.25, -22.5, 20.5, -29.5, -22.25, 20.5, -30.5, 29.5, 20.5, 29.25, 22.25, 20.5, 29.5, 29.5, 20.5, 29.75, 30.5, 20.5, 29.5, -29.25, 20.5, 29.5, -29.5, 20.5, 30.5, -22.25, 20.5, 30.5, -22, 20.5, 29.5, 29.5, 20.5, 30.5, 29.5, 20.5, 29.75, 22.25, 20.5, 29.5, 22, 20.5, 30.5, -29.75, 20.5, 29.5, -29.5, 20.5, 30.5, -29.25, 20.5, 29.5, -29.5, 20.5, 22.25, -22.25, 20.5, -30.5, -22.5, 20.5, -29.5, -15, 20.5, -29.5, -14.75, 20.5, -30.5, -29.5, 20.5, -22, -30.5, 20.5, -22.25, -30.5, 20.5, -14.75, -29.5, 20.5, -14.5, -14.75, 20.5, -30.5, -15, 20.5, -29.5, -7.75, 20.5, -29.5, -7.5, 20.5, -30.5, -14.75, 20.5, 30.5, -14.5, 20.5, 29.5, -22, 20.5, 29.5, -22.25, 20.5, 30.5, -7.5, 20.5, -30.5, -7.75, 20.5, -29.5, -0.25, 20.5, -29.5, 0, 20.5, -30.5, -29.5, 20.5, -14.5, -30.5, 20.5, -14.75, -30.5, 20.5, -7.5, -29.5, 20.5, -7.25, 0, 20.5, -30.5, -0.25, 20.5, -29.5, 7, 20.5, -29.5, 7.25, 20.5, -30.5, -7.5, 20.5, 30.5, -7.25, 20.5, 29.5, -14.5, 20.5, 29.5, -14.75, 20.5, 30.5, 7.25, 20.5, -30.5, 7, 20.5, -29.5, 14.5, 20.5, -29.5, 14.75, 20.5, -30.5, 30.5, 20.5, 14.75, 29.5, 20.5, 14.5, 29.5, 20.5, 21.75, 30.5, 20.5, 22, 14.75, 20.5, -30.5, 14.5, 20.5, -29.5, 21.75, 20.5, -29.5, 22, 20.5, -30.5, 0, 20.5, 30.5, 0.25, 20.5, 29.5, -7.25, 20.5, 29.5, -7.5, 20.5, 30.5, 29.5, 20.5, -30.5, 22, 20.5, -30.5, 21.75, 20.5, -29.5, 29.25, 20.5, -29.5, 29.5, 20.5, -29.75, -29.5, 20.5, -7.25, -30.5, 20.5, -7.5, -30.5, 20.5, 0, -29.5, 20.5, 0.25, 30.5, 20.5, 22, 29.5, 20.5, 21.75, 29.5, 20.5, 29.25, 30.5, 20.5, 29.5, 30.5, 20.5, -29.5, 29.5, 20.5, -29.75, 29.25, 20.5, -29.5, 29.5, 20.5, -22.5, 30.5, 20.5, -22.25, -30.5, 20.5, 22, -29.5, 20.5, 22.25, -29.5, 20.5, 15, -30.5, 20.5, 14.75, 0.25, 20.5, 29.5, 0, 20.5, 30.5, 7.25, 20.5, 30.5, 7.5, 20.5, 29.5, 30.5, 20.5, -22.25, 29.5, 20.5, -22.5, 29.5, 20.5, -15, 30.5, 20.5, -14.75, -29.5, 20.5, 0.25, -30.5, 20.5, 0, -30.5, 20.5, 7.25, -29.5, 20.5, 7.5, 30.5, 20.5, -14.75, 29.5, 20.5, -15, 29.5, 20.5, -7.75, 30.5, 20.5, -7.5, 14.75, 20.5, 30.5, 15, 20.5, 29.5, 7.5, 20.5, 29.5, 7.25, 20.5, 30.5, 30.5, 20.5, -7.5, 29.5, 20.5, -7.75, 29.5, 20.5, -0.25, 30.5, 20.5, 0, -29.5, 20.5, 22.25, -30.5, 20.5, 22, -30.5, 20.5, 29.5, -29.75, 20.5, 29.5, 30.5, 20.5, 0, 29.5, 20.5, -0.25, 29.5, 20.5, 7, 30.5, 20.5, 7.25, 15, 20.5, 29.5, 14.75, 20.5, 30.5, 22, 20.5, 30.5, 22.25, 20.5, 29.5, 30.5, 20.5, 7.25, 29.5, 20.5, 7, 29.5, 20.5, 14.5, 30.5, 20.5, 14.75, -29.5, 20.5, 7.5, -30.5, 20.5, 7.25, -30.5, 20.5, 14.75, -29.5, 20.5, 15, -1, 1.5, -20.75, 0.75, 1.5, -21, 0, 1.5, -28.25, -9.75, 1.5, -28.25, 0, 1.5, 28.5, -0.75, 1.5, 21, -1, 1.5, 19.25, -9.75, 1.5, 28.5, -20.75, 1.5, 1, -21, 1.5, -0.75, -28.25, 1.5, 0, -28.25, 1.5, 9.75, 1, 1.5, 20.75, -0.75, 1.5, 21, 0, 1.5, 28.5, 9.75, 1.5, 28.5, 0, 1.5, -28.25, 0.75, 1.5, -21, 1, 1.5, -19.25, 9.75, 1.5, -28.25, -28.25, 1.5, 0, -21, 1.5, -0.75, -19.25, 1.5, -1, -28.25, 1.5, -9.75, -28.25, 1.5, 9.75, -28.25, 1.5, 19.5, -19.5, 1.5, 19.5, -1, 1.5, 19.25, 0.75, 1.5, 19, -19, 1.5, 0.75, 19.5, 1.5, -19.5, 19.5, 1.5, -28.25, 9.75, 1.5, -28.25, 1, 1.5, -19.25, 28.5, 1.5, -9.75, 28.5, 1.5, -19.25, 19.5, 1.5, -19.5, 1, 1.5, -19.25, -0.75, 1.5, -19, 19, 1.5, -0.75, 28.5, 1.5, -9.75, 19, 1.5, -0.75, 20.75, 1.5, -1, 28.5, 1.5, 0, 28.5, 1.5, -9.75, 20.75, 1.5, -1, 21, 1.5, 0.75, -19.5, 1.5, -19.25, -19.25, 1.5, -1, -19, 1.5, 0.75, 28.5, 1.5, 0, 21, 1.5, 0.75, 19.25, 1.5, 1, 28.5, 1.5, 9.75, -19.5, 1.5, 19.5, -19.25, 1.5, 28.5, -9.75, 1.5, 28.5, -1, 1.5, 19.25, 19.5, 1.5, 19.75, 19.25, 1.5, 1, 19, 1.5, -0.75, 19, 1.5, -0.75, -0.75, 1.5, -19, -19.5, 1.5, -19.25, -19, 1.5, 0.75, 0.75, 1.5, 19, 19.5, 1.5, 19.75, 19.5, 1.5, 19.75, 28.5, 1.5, 19.5, 28.5, 1.5, 9.75, 19.25, 1.5, 1, -0.75, 1.5, -19, -1, 1.5, -20.75, -9.75, 1.5, -28.25, -19.25, 1.5, -28.25, -19.5, 1.5, -19.25, -19, 1.5, 0.75, -20.75, 1.5, 1, -28.25, 1.5, 9.75, -19.5, 1.5, -19.25, -28.25, 1.5, -19.25, -28.25, 1.5, -9.75, -19.25, 1.5, -1, 0.75, 1.5, 19, 1, 1.5, 20.75, 9.75, 1.5, 28.5, 19.5, 1.5, 28.5, 19.5, 1.5, 19.75, -27.5, 6.5, -27.5, -27.5, 6.5, -20.25, -20.25, 6.5, -20.25, -20.25, 6.5, -27.5, 20.5, 6.5, -27.5, 20.5, 6.5, -20.25, 27.5, 6.5, -20.25, 27.5, 6.5, -27.5, -27.25, 1.5, -27.25, -27.25, 1.5, -20.5, -20.5, 1.5, -20.5, -20.5, 1.5, -27.25, 20.75, 1.5, -27.25, 20.75, 1.5, -20.5, 27.5, 1.5, -20.5, 27.5, 1.5, -27.25, -27.5, 6.5, 20.5, -27.5, 6.5, 27.5, -20.25, 6.5, 27.5, -20.25, 6.5, 20.5, 20.5, 6.5, 20.5, 20.5, 6.5, 27.5, 27.5, 6.5, 27.5, 27.5, 6.5, 20.5, -27.25, 1.5, 20.75, -27.25, 1.5, 27.5, -20.5, 1.5, 27.5, -20.5, 1.5, 20.75, 20.75, 1.5, 20.75, 20.75, 1.5, 27.5, 27.5, 1.5, 27.5, 27.5, 1.5, 20.75 )
polygons = [ PoolIntArray( 1, 0, 2 ), PoolIntArray( 2, 0, 3 ), PoolIntArray( 3, 0, 4 ), PoolIntArray( 6, 5, 7 ), PoolIntArray( 7, 5, 8 ), PoolIntArray( 8, 5, 9 ), PoolIntArray( 13, 12, 10 ), PoolIntArray( 10, 12, 11 ), PoolIntArray( 17, 16, 14 ), PoolIntArray( 14, 16, 15 ), PoolIntArray( 19, 18, 20 ), PoolIntArray( 20, 18, 21 ), PoolIntArray( 23, 22, 24 ), PoolIntArray( 24, 22, 25 ), PoolIntArray( 29, 28, 26 ), PoolIntArray( 26, 28, 27 ), PoolIntArray( 33, 32, 30 ), PoolIntArray( 30, 32, 31 ), PoolIntArray( 37, 36, 34 ), PoolIntArray( 34, 36, 35 ), PoolIntArray( 41, 40, 38 ), PoolIntArray( 38, 40, 39 ), PoolIntArray( 45, 44, 42 ), PoolIntArray( 42, 44, 43 ), PoolIntArray( 49, 48, 46 ), PoolIntArray( 46, 48, 47 ), PoolIntArray( 53, 52, 50 ), PoolIntArray( 50, 52, 51 ), PoolIntArray( 57, 56, 54 ), PoolIntArray( 54, 56, 55 ), PoolIntArray( 61, 60, 58 ), PoolIntArray( 58, 60, 59 ), PoolIntArray( 65, 64, 62 ), PoolIntArray( 62, 64, 63 ), PoolIntArray( 69, 68, 66 ), PoolIntArray( 66, 68, 67 ), PoolIntArray( 73, 72, 70 ), PoolIntArray( 70, 72, 71 ), PoolIntArray( 78, 77, 74 ), PoolIntArray( 74, 77, 75 ), PoolIntArray( 75, 77, 76 ), PoolIntArray( 82, 81, 79 ), PoolIntArray( 79, 81, 80 ), PoolIntArray( 86, 85, 83 ), PoolIntArray( 83, 85, 84 ), PoolIntArray( 88, 87, 89 ), PoolIntArray( 89, 87, 90 ), PoolIntArray( 90, 87, 91 ), PoolIntArray( 95, 94, 92 ), PoolIntArray( 92, 94, 93 ), PoolIntArray( 99, 98, 96 ), PoolIntArray( 96, 98, 97 ), PoolIntArray( 103, 102, 100 ), PoolIntArray( 100, 102, 101 ), PoolIntArray( 107, 106, 104 ), PoolIntArray( 104, 106, 105 ), PoolIntArray( 111, 110, 108 ), PoolIntArray( 108, 110, 109 ), PoolIntArray( 115, 114, 112 ), PoolIntArray( 112, 114, 113 ), PoolIntArray( 119, 118, 116 ), PoolIntArray( 116, 118, 117 ), PoolIntArray( 123, 122, 120 ), PoolIntArray( 120, 122, 121 ), PoolIntArray( 127, 126, 124 ), PoolIntArray( 124, 126, 125 ), PoolIntArray( 131, 130, 128 ), PoolIntArray( 128, 130, 129 ), PoolIntArray( 135, 134, 132 ), PoolIntArray( 132, 134, 133 ), PoolIntArray( 139, 138, 136 ), PoolIntArray( 136, 138, 137 ), PoolIntArray( 141, 140, 142 ), PoolIntArray( 142, 140, 143 ), PoolIntArray( 145, 144, 146 ), PoolIntArray( 146, 144, 147 ), PoolIntArray( 149, 148, 150 ), PoolIntArray( 150, 148, 151 ), PoolIntArray( 153, 152, 154 ), PoolIntArray( 154, 152, 155 ), PoolIntArray( 157, 156, 158 ), PoolIntArray( 158, 156, 159 ), PoolIntArray( 161, 160, 162 ), PoolIntArray( 162, 160, 163 ), PoolIntArray( 165, 164, 166 ), PoolIntArray( 166, 164, 169 ), PoolIntArray( 166, 169, 167 ), PoolIntArray( 167, 169, 168 ), PoolIntArray( 171, 170, 172 ), PoolIntArray( 172, 170, 173 ), PoolIntArray( 175, 174, 176 ), PoolIntArray( 176, 174, 179 ), PoolIntArray( 176, 179, 177 ), PoolIntArray( 177, 179, 178 ), PoolIntArray( 180, 182, 181 ), PoolIntArray( 186, 185, 183 ), PoolIntArray( 183, 185, 184 ), PoolIntArray( 189, 188, 187 ), PoolIntArray( 191, 190, 192 ), PoolIntArray( 192, 190, 193 ), PoolIntArray( 195, 194, 196 ), PoolIntArray( 196, 194, 197 ), PoolIntArray( 200, 199, 198 ), PoolIntArray( 203, 202, 204 ), PoolIntArray( 204, 202, 201 ), PoolIntArray( 204, 201, 205 ), PoolIntArray( 205, 201, 206 ), PoolIntArray( 208, 207, 209 ), PoolIntArray( 209, 207, 210 ), PoolIntArray( 212, 211, 213 ), PoolIntArray( 213, 211, 214 ), PoolIntArray( 214, 211, 215 ), PoolIntArray( 218, 217, 216 ), PoolIntArray( 220, 219, 221 ), PoolIntArray( 221, 219, 222 ), PoolIntArray( 224, 223, 225 ), PoolIntArray( 225, 223, 226 ), PoolIntArray( 226, 223, 227 ), PoolIntArray( 231, 230, 228 ), PoolIntArray( 228, 230, 229 ), PoolIntArray( 235, 234, 232 ), PoolIntArray( 232, 234, 233 ), PoolIntArray( 239, 238, 236 ), PoolIntArray( 236, 238, 237 ), PoolIntArray( 243, 242, 240 ), PoolIntArray( 240, 242, 241 ), PoolIntArray( 247, 246, 244 ), PoolIntArray( 244, 246, 245 ), PoolIntArray( 251, 250, 248 ), PoolIntArray( 248, 250, 249 ), PoolIntArray( 255, 254, 252 ), PoolIntArray( 252, 254, 253 ), PoolIntArray( 259, 258, 256 ), PoolIntArray( 256, 258, 257 ) ]

[node name="Main" type="Spatial"]
script = ExtResource( 3 )
_enemiesToSpawn = 5
_enemySpawnTag = "human"
_humanScene = ExtResource( 5 )

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = SubResource( 2 )

[node name="DirectionalLight" type="DirectionalLight" parent="."]
transform = Transform( 0.841204, -0.482065, 0.244928, 0.0590389, 0.532145, 0.844593, -0.537486, -0.696014, 0.476103, 0, 10, 0 )
light_color = Color( 1, 0.635294, 0.576471, 1 )
shadow_enabled = true

[node name="World" type="Spatial" parent="."]
transform = Transform( 0.707107, 0, 0.707107, 0, 1, 0, -0.707107, 0, 0.707107, 0, 0, 0 )

[node name="NavigationMeshInstance" type="NavigationMeshInstance" parent="World"]
navmesh = SubResource( 3 )

[node name="Ground" parent="World/NavigationMeshInstance" instance=ExtResource( 1 )]

[node name="Test Cube Large" parent="World/NavigationMeshInstance" instance=ExtResource( 6 )]
transform = Transform( 4, 0, 0, 0, 4, 0, 0, 0, 4, -24, 2, -24 )

[node name="Test Cube Large2" parent="World/NavigationMeshInstance" instance=ExtResource( 6 )]
transform = Transform( 4, 0, 0, 0, 4, 0, 0, 0, 4, 24, 2, 24 )

[node name="Test Cube Large3" parent="World/NavigationMeshInstance" instance=ExtResource( 6 )]
transform = Transform( 4, 0, 0, 0, 4, 0, 0, 0, 4, -24, 2, 24 )

[node name="Test Cube Large4" parent="World/NavigationMeshInstance" instance=ExtResource( 6 )]
transform = Transform( 4, 0, 0, 0, 4, 0, 0, 0, 4, 24, 2, -24 )

[node name="floating_crystal1" parent="World/NavigationMeshInstance" instance=ExtResource( 2 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -20, 1.5, 0 )

[node name="floating_crystal2" parent="World/NavigationMeshInstance" instance=ExtResource( 2 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1.5, -20 )

[node name="floating_crystal3" parent="World/NavigationMeshInstance" instance=ExtResource( 2 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1.5, 20 )

[node name="floating_crystal4" parent="World/NavigationMeshInstance" instance=ExtResource( 2 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 20, 1.5, 0 )

[node name="Border" type="Spatial" parent="World/NavigationMeshInstance"]

[node name="Wall" parent="World/NavigationMeshInstance/Border" instance=ExtResource( 9 )]
transform = Transform( 30, 0, 0, 0, 10, 0, 0, 0, 1, 0, 10, -30 )

[node name="Wall2" parent="World/NavigationMeshInstance/Border" instance=ExtResource( 9 )]
transform = Transform( 30, 0, 0, 0, 10, 0, 0, 0, 1, 0, 10, 30 )

[node name="Wall3" parent="World/NavigationMeshInstance/Border" instance=ExtResource( 9 )]
transform = Transform( -1.31134e-06, 0, 1, 0, 10, 0, -30, 0, -4.37114e-08, -30, 10, 0 )

[node name="Wall4" parent="World/NavigationMeshInstance/Border" instance=ExtResource( 9 )]
transform = Transform( -1.31134e-06, 0, 1, 0, 10, 0, -30, 0, -4.37114e-08, 30, 10, 0 )

[node name="Tien\'s Test Junk" type="Spatial" parent="World"]

[node name="Floor Tile 01" parent="World/Tien\'s Test Junk" instance=ExtResource( 7 )]
transform = Transform( 0.707107, 0, 0.707107, 0, 1, 0, -0.707107, 0, 0.707107, 0, 1.1, 0 )

[node name="Floor Tile 02" parent="World/Tien\'s Test Junk" instance=ExtResource( 7 )]
transform = Transform( 0.707107, 0, 0.707107, 0, 1, 0, -0.707107, 0, 0.707107, -14.1421, 1.1, 14.1421 )

[node name="Floor Tile 03" parent="World/Tien\'s Test Junk" instance=ExtResource( 7 )]
transform = Transform( 0.707107, 0, 0.707107, 0, 1, 0, -0.707107, 0, 0.707107, -14.1421, 1.1, -14.1421 )

[node name="Floor Tile 04" parent="World/Tien\'s Test Junk" instance=ExtResource( 7 )]
transform = Transform( 0.707107, 0, 0.707107, 0, 1, 0, -0.707107, 0, 0.707107, -28.2843, 1.1, 0 )

[node name="Player Spawn" parent="World" instance=ExtResource( 4 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1, 0 )
_tags = PoolStringArray( "player" )

[node name="Enemy Spawns" type="Spatial" parent="World"]

[node name="Enemy Spawn" parent="World/Enemy Spawns" instance=ExtResource( 4 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 20, 1, 0 )
_tags = PoolStringArray( "human" )
_minXSpawnRange = 1.0
_maxXSpawnRange = 10.0
_minZSpawnRange = 1.0
_maxZSpawnRange = 10.0

[node name="Enemy Spawn2" parent="World/Enemy Spawns" instance=ExtResource( 4 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -20, 1, 0 )
_tags = PoolStringArray( "human" )
_minXSpawnRange = 1.0
_maxXSpawnRange = 10.0
_minZSpawnRange = 1.0
_maxZSpawnRange = 10.0

[node name="Music" type="AudioStreamPlayer" parent="."]
stream = ExtResource( 8 )
